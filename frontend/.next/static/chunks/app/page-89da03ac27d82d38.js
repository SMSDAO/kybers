(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4343:(e,n,s)=>{"use strict";s.d(n,{default:()=>h});var t=s(5155),a=s(2115);let l=[{symbol:"ETH",name:"Ethereum",icon:"\uD83D\uDD37"},{symbol:"USDC",name:"USD Coin",icon:"\uD83D\uDCB5"},{symbol:"USDT",name:"Tether",icon:"\uD83D\uDCB0"},{symbol:"DAI",name:"Dai Stablecoin",icon:"\uD83D\uDFE1"},{symbol:"WETH",name:"Wrapped Ether",icon:"\uD83D\uDD36"},{symbol:"WBTC",name:"Wrapped Bitcoin",icon:"\uD83D\uDFE0"}];function c(e){let{onSelect:n,onClose:s}=e;return(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"glass rounded-2xl p-6 w-full max-w-md neon-border animate-glow",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-neon-cyan",children:"Select Token"}),(0,t.jsx)("button",{onClick:s,className:"p-2 rounded-lg glass hover:glow-pink transition-all duration-300",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-neon-pink",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("input",{type:"text",placeholder:"Search token...",className:"w-full px-4 py-3 rounded-lg glass border-2 border-neon-purple/30 focus:border-neon-purple outline-none text-neon-cyan placeholder-neon-cyan/30"})}),(0,t.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:l.map(e=>(0,t.jsxs)("button",{onClick:()=>n(e.symbol),className:"w-full flex items-center space-x-4 p-4 rounded-lg glass hover:glow-cyan transition-all duration-300",children:[(0,t.jsx)("div",{className:"text-3xl",children:e.icon}),(0,t.jsxs)("div",{className:"flex-1 text-left",children:[(0,t.jsx)("div",{className:"font-semibold text-neon-cyan",children:e.symbol}),(0,t.jsx)("div",{className:"text-sm text-neon-cyan/50",children:e.name})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-sm text-neon-green",children:"$1,234.56"}),(0,t.jsx)("div",{className:"text-xs text-neon-cyan/50",children:"0.0"})]})]},e.symbol))})]})})}function o(e){let{label:n,token:s,amount:l,onTokenChange:o,onAmountChange:r,readOnly:i=!1}=e,[d,x]=(0,a.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"glass rounded-xl p-4 border-2 border-neon-purple/30 hover:border-neon-purple/60 transition-all duration-300",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("span",{className:"text-sm text-neon-cyan/70",children:n}),(0,t.jsx)("span",{className:"text-xs text-neon-cyan/50",children:"Balance: 0.0"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("button",{onClick:()=>x(!0),className:"flex items-center space-x-2 px-4 py-2 rounded-lg glass hover:glow-purple transition-all duration-300",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-full bg-gradient-to-r from-neon-cyan to-neon-purple"}),(0,t.jsx)("span",{className:"font-semibold text-neon-cyan",children:s}),(0,t.jsx)("svg",{className:"w-4 h-4 text-neon-cyan",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),(0,t.jsx)("input",{type:"text",value:l,onChange:e=>{let n=e.target.value;(""===n||/^\d*\.?\d*$/.test(n))&&r(n)},placeholder:"0.0",readOnly:i,className:"flex-1 bg-transparent text-right text-2xl font-bold text-neon-cyan outline-none placeholder-neon-cyan/30"})]})]}),d&&(0,t.jsx)(c,{onSelect:e=>{o(e),x(!1)},onClose:()=>x(!1)})]})}function r(e){let{onClick:n,disabled:s=!1}=e;return(0,t.jsx)("button",{onClick:n,disabled:s,className:"w-full py-4 rounded-xl font-bold text-lg transition-all duration-300 ".concat(s?"bg-gray-600 text-gray-400 cursor-not-allowed":"btn-neon animate-glow hover:scale-105 active:scale-95"),children:s?"Enter Amount":"Swap Now"})}let i=[.1,.5,1];function d(e){let{value:n,onChange:s}=e;return(0,t.jsxs)("div",{className:"glass rounded-lg p-4 space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm font-semibold text-neon-cyan",children:"Slippage Tolerance"}),(0,t.jsxs)("span",{className:"text-sm text-neon-green",children:[n,"%"]})]}),(0,t.jsx)("div",{className:"flex space-x-2",children:i.map(e=>(0,t.jsxs)("button",{onClick:()=>s(e),className:"flex-1 py-2 px-4 rounded-lg transition-all duration-300 ".concat(n===e?"bg-neon-purple text-white glow-purple":"glass text-neon-cyan hover:glow-cyan"),children:[e,"%"]},e))}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"number",value:n,onChange:e=>s(parseFloat(e.target.value)||0),step:"0.1",min:"0",max:"50",className:"flex-1 px-4 py-2 rounded-lg glass border-2 border-neon-purple/30 focus:border-neon-purple outline-none text-neon-cyan"}),(0,t.jsx)("span",{className:"text-neon-cyan",children:"%"})]}),(0,t.jsx)("p",{className:"text-xs text-neon-cyan/50",children:"Your transaction will revert if the price changes unfavorably by more than this percentage."})]})}function x(e){let{tokenIn:n,tokenOut:s,amountIn:l,amountOut:c,onTokenInChange:i,onTokenOutChange:x,onAmountInChange:m,onAmountOutChange:u}=e,[p,h]=(0,a.useState)(.5),[j,g]=(0,a.useState)(!1),f=async()=>{console.log("Executing swap:",{tokenIn:n,tokenOut:s,amountIn:l,slippage:p})};return(0,t.jsxs)("div",{className:"glass rounded-2xl p-6 neon-border",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-neon-cyan",children:"Swap"}),(0,t.jsx)("button",{onClick:()=>g(!j),className:"p-2 rounded-lg glass hover:glow-cyan transition-all duration-300",children:(0,t.jsxs)("svg",{className:"w-6 h-6 text-neon-cyan",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),j&&(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)(d,{value:p,onChange:h})}),(0,t.jsx)("div",{className:"mb-2",children:(0,t.jsx)(o,{label:"From",token:n,amount:l,onTokenChange:i,onAmountChange:m})}),(0,t.jsx)("div",{className:"flex justify-center -my-4 relative z-10",children:(0,t.jsx)("button",{onClick:()=>{i(s),x(n),m(c),u(l)},className:"p-3 rounded-full glass glow-purple hover:animate-glow transition-all duration-300",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-neon-purple",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})})})}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)(o,{label:"To",token:s,amount:c,onTokenChange:x,onAmountChange:u,readOnly:!0})}),l&&c&&(0,t.jsxs)("div",{className:"glass rounded-lg p-4 mb-6 space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between text-neon-cyan/70",children:[(0,t.jsx)("span",{children:"Rate"}),(0,t.jsxs)("span",{className:"text-neon-cyan",children:["1 ",n," = ",(parseFloat(c)/parseFloat(l)).toFixed(6)," ",s]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-neon-cyan/70",children:[(0,t.jsx)("span",{children:"Fee (0.05%)"}),(0,t.jsxs)("span",{className:"text-neon-green",children:[(5e-4*parseFloat(l)).toFixed(6)," ",n]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-neon-cyan/70",children:[(0,t.jsx)("span",{children:"Price Impact"}),(0,t.jsx)("span",{className:"text-neon-pink",children:"< 0.1%"})]}),(0,t.jsxs)("div",{className:"flex justify-between text-neon-cyan/70",children:[(0,t.jsx)("span",{children:"Min Received"}),(0,t.jsxs)("span",{className:"text-neon-cyan",children:[(parseFloat(c)*(1-p/100)).toFixed(6)," ",s]})]})]}),(0,t.jsx)(r,{onClick:f,disabled:!l||!c}),(0,t.jsxs)("div",{className:"mt-4 text-center text-xs text-neon-cyan/50",children:[(0,t.jsx)("p",{children:"Aggregating from 15+ DEXs across 7 chains"}),(0,t.jsx)("p",{children:"Fees auto-forward to gxqstudio.eth"})]})]})}let m={"Uniswap V3":"\uD83E\uDD84",Sushiswap:"\uD83C\uDF63",Curve:"\uD83C\uDF0A",Balancer:"⚖️",Kyber:"⚡"};function u(e){let{tokenIn:n,tokenOut:s,amountIn:l}=e,[c,o]=(0,a.useState)([]),[r,i]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e=async()=>{try{i(!0);let e=await fetch("/api/prices/".concat(n,"/").concat(s)),t=(await e.json()).prices.map(e=>({name:e.dex||e.name,price:e.price,logo:m[e.dex||e.name||""]||"\uD83D\uDCB1"}));o(t)}catch(e){console.error("Error fetching prices:",e),o([{name:"Uniswap V3",price:1834.52,logo:"\uD83E\uDD84"},{name:"Sushiswap",price:1832.18,logo:"\uD83C\uDF63"},{name:"Curve",price:1835.67,logo:"\uD83C\uDF0A"}])}finally{i(!1)}};n&&s&&e()},[n,s]);let d=c.length>0?Math.max(...c.map(e=>e.price)):0;return(0,t.jsxs)("div",{className:"glass rounded-xl p-4 neon-border",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-neon-cyan mb-4",children:"Price Comparison"}),r?(0,t.jsx)("div",{className:"text-center text-neon-cyan/50 py-4",children:"Loading prices..."}):(0,t.jsx)("div",{className:"space-y-2",children:c.map((e,n)=>{let s=e.price===d;return(0,t.jsxs)("div",{className:"p-3 rounded-lg glass flex items-center justify-between ".concat(s?"glow-green border-2 border-neon-green":""),children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-2xl",children:e.logo}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-semibold ".concat(s?"text-neon-green":"text-neon-cyan"),children:e.name}),s&&(0,t.jsx)("div",{className:"text-xs text-neon-green",children:"✓ Best Price"})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"font-bold ".concat(s?"text-neon-green":"text-neon-cyan"),children:["$",e.price.toFixed(2)]}),(0,t.jsxs)("div",{className:"text-xs text-neon-cyan/50",children:[((e.price/d-1)*100).toFixed(2),"%"]})]})]},e.name)})}),(0,t.jsx)("div",{className:"mt-4 text-xs text-center text-neon-cyan/50",children:"Prices updated in real-time from 15+ DEXs"})]})}function p(e){var n;let{tokenIn:s,tokenOut:l}=e,[c,o]=(0,a.useState)(null),[r,i]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e=async()=>{try{i(!0);let e=await fetch("/api/route/".concat(s,"/").concat(l,"/1")),n=await e.json();o(n)}catch(e){console.error("Error fetching route:",e),o({route:[{dex:"Uniswap V3",percentage:100}],expectedOutput:1834.52,priceImpact:.05,gasEstimate:15e4})}finally{i(!1)}};s&&l&&e()},[s,l]);let d=(null==c||null==(n=c.route[0])?void 0:n.dex)||"Uniswap V3",x=(null==c?void 0:c.route.length)||1,m=(null==c?void 0:c.gasEstimate)||15e4,u=(null==c?void 0:c.priceImpact)||.05;return(0,t.jsxs)("div",{className:"glass rounded-xl p-4 neon-border",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-neon-cyan mb-4",children:"Optimal Route"}),r?(0,t.jsx)("div",{className:"text-center text-neon-cyan/50 py-4",children:"Loading route..."}):(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,t.jsx)("div",{className:"flex flex-col items-center",children:(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-neon-cyan to-neon-purple flex items-center justify-center glass",children:(0,t.jsx)("span",{className:"text-xs font-bold",children:s})})}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center",children:[(0,t.jsx)("div",{className:"w-full h-1 bg-gradient-to-r from-neon-cyan via-neon-purple to-neon-pink animate-shimmer"}),(0,t.jsx)("div",{className:"text-xs text-neon-purple mt-1",children:d})]}),(0,t.jsx)("div",{className:"flex flex-col items-center",children:(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-neon-purple to-neon-pink flex items-center justify-center glass",children:(0,t.jsx)("span",{className:"text-xs font-bold",children:l})})})]}),(0,t.jsxs)("div",{className:"glass rounded-lg p-3 space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-neon-cyan/70",children:"Route Type"}),(0,t.jsx)("span",{className:"text-neon-green",children:1===x?"Direct":"Multi-hop"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-neon-cyan/70",children:"Hops"}),(0,t.jsx)("span",{className:"text-neon-cyan",children:x})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-neon-cyan/70",children:"Gas Estimate"}),(0,t.jsxs)("span",{className:"text-neon-cyan",children:["~",Math.round(m/1e3),"k"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-neon-cyan/70",children:"Price Impact"}),(0,t.jsxs)("span",{className:"text-neon-green",children:["< ",u.toFixed(1),"%"]})]})]}),(0,t.jsx)("div",{className:"bg-gradient-to-r from-neon-green/20 to-neon-cyan/20 rounded-lg p-2 text-center",children:(0,t.jsx)("span",{className:"text-xs text-neon-green font-semibold",children:"✓ Best route selected from 15+ DEXs"})})]})]})}function h(){let[e,n]=(0,a.useState)("ETH"),[s,l]=(0,a.useState)("USDC"),[c,o]=(0,a.useState)(""),[r,i]=(0,a.useState)("");return(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsx)(x,{tokenIn:e,tokenOut:s,amountIn:c,amountOut:r,onTokenInChange:n,onTokenOutChange:l,onAmountInChange:o,onAmountOutChange:i})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(p,{tokenIn:e,tokenOut:s}),(0,t.jsx)(u,{tokenIn:e,tokenOut:s,amountIn:c})]})]})}},6902:(e,n,s)=>{Promise.resolve().then(s.bind(s,4343))}},e=>{e.O(0,[441,255,358],()=>e(e.s=6902)),_N_E=e.O()}]);